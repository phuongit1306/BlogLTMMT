<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bài 3 - Lập trình đa luồng trong Java (Multithreading) | Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3</title><meta name=keywords content="Java,Đa luồng,Multithreading,Socket"><meta name=description content="
Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, đa luồng (multithreading) giúp chương trình hoạt động hiệu quả, nhanh chóng và mượt mà hơn.
Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua Thread class và Runnable interface.


⚙️ 1. Giới thiệu về luồng (Thread)
Một thread (luồng) là đơn vị thực thi nhỏ nhất trong chương trình.
Khi chương trình có nhiều luồng, các luồng có thể chạy đồng thời (concurrently), chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu."><meta name=author content="Nguyễn Thanh Phương"><link rel=canonical href=https://phuongit1306.github.io/BlogLTMMT/blog/bai3-lap-trinh-da-luong-trong-java/><link crossorigin=anonymous href=/BlogLTMMT/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://phuongit1306.github.io/BlogLTMMT/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://phuongit1306.github.io/BlogLTMMT/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://phuongit1306.github.io/BlogLTMMT/favicon-32x32.png><link rel=apple-touch-icon href=https://phuongit1306.github.io/BlogLTMMT/apple-touch-icon.png><link rel=mask-icon href=https://phuongit1306.github.io/BlogLTMMT/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://phuongit1306.github.io/BlogLTMMT/blog/bai3-lap-trinh-da-luong-trong-java/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://phuongit1306.github.io/BlogLTMMT/blog/bai3-lap-trinh-da-luong-trong-java/"><meta property="og:site_name" content="Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3"><meta property="og:title" content="Bài 3 - Lập trình đa luồng trong Java (Multithreading)"><meta property="og:description" content=" Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, đa luồng (multithreading) giúp chương trình hoạt động hiệu quả, nhanh chóng và mượt mà hơn. Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua Thread class và Runnable interface. ⚙️ 1. Giới thiệu về luồng (Thread) Một thread (luồng) là đơn vị thực thi nhỏ nhất trong chương trình.
Khi chương trình có nhiều luồng, các luồng có thể chạy đồng thời (concurrently), chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu."><meta property="og:locale" content="vi"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-10-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-07T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Đa Luồng"><meta property="article:tag" content="Multithreading"><meta property="article:tag" content="Socket"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bài 3 - Lập trình đa luồng trong Java (Multithreading)"><meta name=twitter:description content="
Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, đa luồng (multithreading) giúp chương trình hoạt động hiệu quả, nhanh chóng và mượt mà hơn.
Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua Thread class và Runnable interface.


⚙️ 1. Giới thiệu về luồng (Thread)
Một thread (luồng) là đơn vị thực thi nhỏ nhất trong chương trình.
Khi chương trình có nhiều luồng, các luồng có thể chạy đồng thời (concurrently), chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog - Lập trình mạng máy tính","item":"https://phuongit1306.github.io/BlogLTMMT/blog/"},{"@type":"ListItem","position":2,"name":"Bài 3 - Lập trình đa luồng trong Java (Multithreading)","item":"https://phuongit1306.github.io/BlogLTMMT/blog/bai3-lap-trinh-da-luong-trong-java/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bài 3 - Lập trình đa luồng trong Java (Multithreading)","name":"Bài 3 - Lập trình đa luồng trong Java (Multithreading)","description":" Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, đa luồng (multithreading) giúp chương trình hoạt động hiệu quả, nhanh chóng và mượt mà hơn. Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua Thread class và Runnable interface. ⚙️ 1. Giới thiệu về luồng (Thread) Một thread (luồng) là đơn vị thực thi nhỏ nhất trong chương trình.\nKhi chương trình có nhiều luồng, các luồng có thể chạy đồng thời (concurrently), chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu.\n","keywords":["Java","Đa luồng","Multithreading","Socket"],"articleBody":" Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, đa luồng (multithreading) giúp chương trình hoạt động hiệu quả, nhanh chóng và mượt mà hơn. Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua Thread class và Runnable interface. ⚙️ 1. Giới thiệu về luồng (Thread) Một thread (luồng) là đơn vị thực thi nhỏ nhất trong chương trình.\nKhi chương trình có nhiều luồng, các luồng có thể chạy đồng thời (concurrently), chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu.\n💡 Ví dụ: Trong một server chat, mỗi người dùng được xử lý bởi một thread riêng, giúp tất cả có thể trò chuyện cùng lúc mà không bị gián đoạn.\n🧩 2. Cách tạo Thread trong Java ✅ Cách 1: Kế thừa lớp Thread class MyThread extends Thread { public void run() { System.out.println(\"Luồng đang chạy: \" + Thread.currentThread().getName()); } public static void main(String[] args) { MyThread t1 = new MyThread(); MyThread t2 = new MyThread(); t1.start(); t2.start(); } } ✅ Cách 2: Triển khai Runnable class MyThread extends Thread { public void run() { System.out.println(\"Luồng đang chạy: \" + Thread.currentThread().getName()); } public static void main(String[] args) { MyThread t1 = new MyThread(); MyThread t2 = new MyThread(); t1.start(); t2.start(); } } ⚠️ Lưu ý: Không gọi run() trực tiếp! Hãy gọi start() để tạo luồng thực sự.\n🚀 3. Ví dụ: Server xử lý nhiều Client cùng lúc Trong các ứng dụng mạng, ví dụ như chat server, ta muốn mỗi Client được xử lý trên một luồng riêng biệt. Dưới đây là ví dụ đầy đủ về Server và Client đa luồng.\n🖥️ Server đa luồng (Multi-threaded Server) import java.io.*; import java.net.*; class ClientHandler extends Thread { private Socket socket; public ClientHandler(Socket socket) { this.socket = socket; } public void run() { try { BufferedReader input = new BufferedReader( new InputStreamReader(socket.getInputStream()) ); PrintWriter output = new PrintWriter(socket.getOutputStream(), true); // Nhận tên từ client String name = input.readLine(); System.out.println(\"Client kết nối: \" + name); output.println(\"Xin chào \" + name + \", bạn đã kết nối thành công!\"); // Đọc tin nhắn từ client String message; while ((message = input.readLine()) != null) { if (message.equalsIgnoreCase(\"exit\")) { output.println(\"Tạm biệt \" + name + \"!\"); break; } System.out.println(name + \": \" + message); output.println(\"Server nhận: \" + message.toUpperCase()); } socket.close(); System.out.println(\"Client \" + name + \" đã ngắt kết nối.\"); } catch (IOException e) { System.out.println(\"Lỗi khi xử lý client: \" + e.getMessage()); } } } public class MultiThreadedServer { public static void main(String[] args) { try { ServerSocket server = new ServerSocket(5000); System.out.println(\"Server đang chạy trên cổng 5000...\"); while (true) { Socket socket = server.accept(); System.out.println(\"Client mới kết nối!\"); new ClientHandler(socket).start(); } } catch (IOException e) { e.printStackTrace(); } } } 💬 Client (gửi tên và tin nhắn đến Server)\nimport java.io.*; import java.net.*; import java.util.Scanner; public class MultiClient { public static void main(String[] args) { try { Socket socket = new Socket(\"localhost\", 5000); BufferedReader input = new BufferedReader( new InputStreamReader(socket.getInputStream()) ); PrintWriter output = new PrintWriter(socket.getOutputStream(), true); Scanner scanner = new Scanner(System.in); System.out.print(\"Nhập tên của bạn: \"); String name = scanner.nextLine(); output.println(name); Thread listener = new Thread(() -\u003e { try { String line; while ((line = input.readLine()) != null) { System.out.println(\"\u003e\u003e \" + line); } } catch (IOException e) { System.out.println(\"Ngắt kết nối khỏi server.\"); } }); listener.start(); String message; while (true) { message = scanner.nextLine(); output.println(message); if (message.equalsIgnoreCase(\"exit\")) break; } socket.close(); } catch (IOException e) { e.printStackTrace(); } } } ✍️ Tác giả: Nguyễn Thanh Phương\n📅 Cập nhật: October 07, 2025\n","wordCount":"597","inLanguage":"en","datePublished":"2025-10-07T00:00:00Z","dateModified":"2025-10-07T00:00:00Z","author":{"@type":"Person","name":"Nguyễn Thanh Phương"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://phuongit1306.github.io/BlogLTMMT/blog/bai3-lap-trinh-da-luong-trong-java/"},"publisher":{"@type":"Organization","name":"Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3","logo":{"@type":"ImageObject","url":"https://phuongit1306.github.io/BlogLTMMT/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://phuongit1306.github.io/BlogLTMMT/ accesskey=h title="Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3 (Alt + H)">Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://phuongit1306.github.io/BlogLTMMT/ title=Home><span>Home</span></a></li><li><a href=https://phuongit1306.github.io/BlogLTMMT/blog title=📝><span>📝</span></a></li><li><a href=https://phuongit1306.github.io/BlogLTMMT/about title=📩><span>📩</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://phuongit1306.github.io/BlogLTMMT/>Home</a>&nbsp;»&nbsp;<a href=https://phuongit1306.github.io/BlogLTMMT/blog/>Blog - Lập trình mạng máy tính</a></div><h1 class="post-title entry-hint-parent">Bài 3 - Lập trình đa luồng trong Java (Multithreading)</h1><div class=post-meta><span title='2025-10-07 00:00:00 +0000 UTC'>October 7, 2025</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>Nguyễn Thanh Phương</span></div></header><div class=post-content><ul><li>Trong các ứng dụng mạng hoặc hệ thống có nhiều tác vụ chạy song song, <strong>đa luồng (multithreading)</strong> giúp chương trình hoạt động <strong>hiệu quả, nhanh chóng và mượt mà hơn</strong>.</li><li>Java hỗ trợ lập trình đa luồng rất mạnh mẽ thông qua <strong>Thread class</strong> và <strong>Runnable interface</strong>.</li></ul><hr><h2 id=-1-giới-thiệu-về-luồng-thread>⚙️ 1. Giới thiệu về luồng (Thread)<a hidden class=anchor aria-hidden=true href=#-1-giới-thiệu-về-luồng-thread>#</a></h2><p>Một <strong>thread (luồng)</strong> là <strong>đơn vị thực thi nhỏ nhất</strong> trong chương trình.<br>Khi chương trình có nhiều luồng, các luồng có thể chạy <strong>đồng thời (concurrently)</strong>, chia sẻ tài nguyên chung như bộ nhớ hoặc dữ liệu.</p><blockquote><p>💡 Ví dụ: Trong một server chat, mỗi người dùng được xử lý bởi <strong>một thread riêng</strong>, giúp tất cả có thể trò chuyện cùng lúc mà không bị gián đoạn.</p></blockquote><hr><h2 id=-2-cách-tạo-thread-trong-java>🧩 2. Cách tạo Thread trong Java<a hidden class=anchor aria-hidden=true href=#-2-cách-tạo-thread-trong-java>#</a></h2><h3 id=-cách-1-kế-thừa-lớp-thread>✅ Cách 1: Kế thừa lớp <code>Thread</code><a hidden class=anchor aria-hidden=true href=#-cách-1-kế-thừa-lớp-thread>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyThread</span> <span style=color:#66d9ef>extends</span> Thread {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>run</span>() {
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Luồng đang chạy: &#34;</span> <span style=color:#f92672>+</span> Thread.<span style=color:#a6e22e>currentThread</span>().<span style=color:#a6e22e>getName</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        MyThread t1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyThread();
</span></span><span style=display:flex><span>        MyThread t2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyThread();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        t1.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>        t2.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=-cách-2-triển-khai-runnable>✅ Cách 2: Triển khai Runnable<a hidden class=anchor aria-hidden=true href=#-cách-2-triển-khai-runnable>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyThread</span> <span style=color:#66d9ef>extends</span> Thread {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>run</span>() {
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Luồng đang chạy: &#34;</span> <span style=color:#f92672>+</span> Thread.<span style=color:#a6e22e>currentThread</span>().<span style=color:#a6e22e>getName</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        MyThread t1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyThread();
</span></span><span style=display:flex><span>        MyThread t2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyThread();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        t1.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>        t2.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>⚠️ Lưu ý: Không gọi run() trực tiếp! Hãy gọi start() để tạo luồng thực sự.</p></blockquote><hr><h2 id=-3-ví-dụ-server-xử-lý-nhiều-client-cùng-lúc>🚀 3. Ví dụ: Server xử lý nhiều Client cùng lúc<a hidden class=anchor aria-hidden=true href=#-3-ví-dụ-server-xử-lý-nhiều-client-cùng-lúc>#</a></h2><p>Trong các ứng dụng mạng, ví dụ như chat server, ta muốn mỗi Client được xử lý trên một luồng riêng biệt.
Dưới đây là ví dụ đầy đủ về Server và Client đa luồng.</p><h3 id=-server-đa-luồng-multi-threaded-server>🖥️ Server đa luồng (Multi-threaded Server)<a hidden class=anchor aria-hidden=true href=#-server-đa-luồng-multi-threaded-server>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.io.*;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.net.*;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ClientHandler</span> <span style=color:#66d9ef>extends</span> Thread {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Socket socket;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>ClientHandler</span>(Socket socket) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>socket</span> <span style=color:#f92672>=</span> socket;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>run</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            BufferedReader input <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader(
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>new</span> InputStreamReader(socket.<span style=color:#a6e22e>getInputStream</span>())
</span></span><span style=display:flex><span>            );
</span></span><span style=display:flex><span>            PrintWriter output <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> PrintWriter(socket.<span style=color:#a6e22e>getOutputStream</span>(), <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Nhận tên từ client</span>
</span></span><span style=display:flex><span>            String name <span style=color:#f92672>=</span> input.<span style=color:#a6e22e>readLine</span>();
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Client kết nối: &#34;</span> <span style=color:#f92672>+</span> name);
</span></span><span style=display:flex><span>            output.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Xin chào &#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, bạn đã kết nối thành công!&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Đọc tin nhắn từ client</span>
</span></span><span style=display:flex><span>            String message;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> ((message <span style=color:#f92672>=</span> input.<span style=color:#a6e22e>readLine</span>()) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (message.<span style=color:#a6e22e>equalsIgnoreCase</span>(<span style=color:#e6db74>&#34;exit&#34;</span>)) {
</span></span><span style=display:flex><span>                    output.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Tạm biệt &#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;!&#34;</span>);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;: &#34;</span> <span style=color:#f92672>+</span> message);
</span></span><span style=display:flex><span>                output.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Server nhận: &#34;</span> <span style=color:#f92672>+</span> message.<span style=color:#a6e22e>toUpperCase</span>());
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            socket.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Client &#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; đã ngắt kết nối.&#34;</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Lỗi khi xử lý client: &#34;</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>getMessage</span>());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MultiThreadedServer</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            ServerSocket server <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServerSocket(5000);
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Server đang chạy trên cổng 5000...&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>                Socket socket <span style=color:#f92672>=</span> server.<span style=color:#a6e22e>accept</span>();
</span></span><span style=display:flex><span>                System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Client mới kết nối!&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>new</span> ClientHandler(socket).<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>💬 Client (gửi tên và tin nhắn đến Server)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.io.*;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.net.*;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Scanner;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MultiClient</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            Socket socket <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Socket(<span style=color:#e6db74>&#34;localhost&#34;</span>, 5000);
</span></span><span style=display:flex><span>            BufferedReader input <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader(
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>new</span> InputStreamReader(socket.<span style=color:#a6e22e>getInputStream</span>())
</span></span><span style=display:flex><span>            );
</span></span><span style=display:flex><span>            PrintWriter output <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> PrintWriter(socket.<span style=color:#a6e22e>getOutputStream</span>(), <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>            Scanner scanner <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Scanner(System.<span style=color:#a6e22e>in</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;Nhập tên của bạn: &#34;</span>);
</span></span><span style=display:flex><span>            String name <span style=color:#f92672>=</span> scanner.<span style=color:#a6e22e>nextLine</span>();
</span></span><span style=display:flex><span>            output.<span style=color:#a6e22e>println</span>(name);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            Thread listener <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Thread(() <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                    String line;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>while</span> ((line <span style=color:#f92672>=</span> input.<span style=color:#a6e22e>readLine</span>()) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>                        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;&gt;&gt; &#34;</span> <span style=color:#f92672>+</span> line);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>                    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Ngắt kết nối khỏi server.&#34;</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>            listener.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            String message;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>                message <span style=color:#f92672>=</span> scanner.<span style=color:#a6e22e>nextLine</span>();
</span></span><span style=display:flex><span>                output.<span style=color:#a6e22e>println</span>(message);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (message.<span style=color:#a6e22e>equalsIgnoreCase</span>(<span style=color:#e6db74>&#34;exit&#34;</span>)) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            socket.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            e.<span style=color:#a6e22e>printStackTrace</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><p>✍️ Tác giả: Nguyễn Thanh Phương</p><p>📅 Cập nhật: October 07, 2025</p><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://phuongit1306.github.io/BlogLTMMT/tags/java/>Java</a></li><li><a href=https://phuongit1306.github.io/BlogLTMMT/tags/%C4%91a-lu%E1%BB%93ng/>Đa Luồng</a></li><li><a href=https://phuongit1306.github.io/BlogLTMMT/tags/multithreading/>Multithreading</a></li><li><a href=https://phuongit1306.github.io/BlogLTMMT/tags/socket/>Socket</a></li></ul><nav class=paginav><a class=prev href=https://phuongit1306.github.io/BlogLTMMT/blog/bai4-truyen-file-qua-mang-trong-java/><span class=title>« Prev</span><br><span>Bài 4 - Truyền file qua mạng trong Java bằng Socket</span>
</a><a class=next href=https://phuongit1306.github.io/BlogLTMMT/blog/bai2-ket-noi-mang-trong-java-voi-socket/><span class=title>Next »</span><br><span>Bài 2 - Kết nối mạng trong Java với Socket</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://phuongit1306.github.io/BlogLTMMT/>Blog Lập Trình - 2180607911 - Nguyễn Thanh Phương - 21DTHD3</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>